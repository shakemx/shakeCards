<!DOCTYPE html>
{% extends "base.html" %}
{% load static %}

<!--SEO-->
{% block title %}Sensum | Soluciones Inmobiliarias {% endblock title %}
{% block description %}Vendemos tu inmueble en tiempo record{% endblock description %}
{% block titleop %}Sensum | Soluciones Inmobiliarias {% endblock titleop %}
{% block description_op %}Vendemos tu inmueble en tiempo record{% endblock description_op %}
{% block image_op %}{% static 'img/favicon.png' %}{% endblock image_op %}
{% block favicon %}{% static 'img/favicon.png' %}{% endblock favicon%}
{% block append_head %}
<link rel="stylesheet" href="{% static 'css/web_page.css' %}" />
{% endblock append_head %}

<!--Body-->
{% block main_body_data %}

{% include "navbar.html" %}
{% include "landing_home.html" %}
{% include "footer.html" %}
{% include "copyright.html" %}
{% include "floating.html"%}









<!----------------END CARD---------------------->

{% endblock %}


<!--JS-->
{% block child_js_above_files %}
{% endblock %}

{% block child_js_below_files %}
<script>
  window.onload = function () {
    var $recaptcha = document.querySelector('#g-recaptcha-response');
    if ($recaptcha) {
      $recaptcha.setAttribute("required", "required");
    }
  };
</script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
<script type="text/javascript">
  emailjs.init('user_gGHZQEDHJmDEjuOwEPoep')
</script>
<script type="text/javascript">
  "use strict";
  window.addEventListener(
    "load",
    function () {
      // Fetch all the forms we want to apply custom Bootstrap validation styles to
      var forms = document.getElementsByClassName("contacto_sensum");
      var myModalGracias = new bootstrap.Modal(
        document.getElementById("modalGracias"),
        {}
      );
      var myModalError = new bootstrap.Modal(
        document.getElementById("modalError"),
        {}
      );
      // Loop over them and prevent submission
      var validation = Array.prototype.filter.call(forms, function (form) {
        form.addEventListener(
          "submit",
          function (event) {
            if (form.checkValidity() === false) {
              event.preventDefault();
              event.stopPropagation();
            }
            event.preventDefault();
            try {
              var template_params = {
                nombre_completo: document.getElementById("nombre_completo").value,
                telefono_contacto: document.getElementById("telefono_contacto").value,
                correo_contacto: document.getElementById("correo_contacto").value,
                tipo_inmueble: document.getElementById("tipo_inmueble").value,
                operacion : document.getElementById("operacion").value,
                ubicacion : document.getElementById("ubicacion").value,                
                'g-recaptcha-response': '6LfdfEkpAAAAANUtk91cJtKhw2915W6APZiLLgNU'  
              };
              emailjs.send(
                "service_g8uwlxg",
                "template_otzjahi",
                template_params
              );
              myModalGracias.show();
              setTimeout(function () {
                myModalGracias.hide();
              }, 3000);
            } catch (error) {
              myModalError.show();
              setTimeout(function () {
                myModalError.hide();
              }, 3000);
              console.log(error);
            }
            nombre_completo.value = "";
            telefono_contacto.value = "";
            correo_contacto.value = "";
            tipo_inmueble.value = "";
            operacion.value = "";
            ubicacion.value = "";
            grecaptcha.reset();
          },
          false
        );
      });
    },
    false
  );
</script>
{% endblock %}